esphome:
  name: home-manager
  platform: ESP32
  board: esp32doit-devkit-v1

# Enable logging
logger:

# Enable Home Assistant API
api:

ota:
  password: "xxxx"

wifi:
  ssid: "xxxx"
  password: "xxxx"

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "Home-Manager Fallback Hotspot"
    password: "GxSBcv0amqbl"

captive_portal:

### Everything above is auto generated by ESPHome inside Home Assistant, you only need the configuration below.
binary_sensor:
# Schalter Küche Eingang
  - platform: gpio
    pin:
      number: 13
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter Küche Eingang 1"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
  - platform: gpio
    pin:
      number: 14
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter Küche Eingang 2"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
# Schalter Küche Ecke WZ
  - platform: gpio
    pin:
      number: 15
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter Küche Ecke WZ 1"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
  - platform: gpio
    pin:
      number: 16
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter Küche Ecke WZ 2"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
# Schalter Büro
  - platform: gpio
    pin:
      number: 17
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter Büro 1"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
  - platform: gpio
    pin:
      number: 18
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter Büro 2"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
# Schalter Schlafzimmer
  - platform: gpio
    pin:
      number: 19
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter Schlafzimmer 1"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
  - platform: gpio
    pin:
      number: 21
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter Schlafzimmer 2"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
# Schalter WZ Ecke Büro
  - platform: gpio
    pin:
      number: 22
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter WZ Ecke Büro 1"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
  - platform: gpio
    pin:
      number: 23
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter WZ Ecke Büro 2"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
# Schalter WZ Ecke Badezimmer
  - platform: gpio
    pin:
      number: 25
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter WZ Ecke Badezimmer 1"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
  - platform: gpio
    pin:
      number: 26
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter WZ Ecke Badezimmer 2"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
# Schalter WZ Ecke Küche
  - platform: gpio
    pin:
      number: 4
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter WZ Ecke Küche 1"
    device_class: plug
    filters:
      - delayed_on_off: 100ms
  - platform: gpio
    pin:
      number: 5
      mode:
        input: true
        pullup: true
      inverted: true
    name: "Schalter WZ Ecke Küche 2"
    device_class: plug
    filters:
      - delayed_on_off: 100ms


# Switches aka relais 
switch:
  - platform: gpio
    pin:
      number: 32
      inverted: true
      mode:
        output: true
        open_drain: true
    name: "Lüftung Badezimmer"
    restore_mode: RESTORE_DEFAULT_OFF
  - platform: gpio
    pin:
      number: 27
      inverted: true
      mode:
        output: true
        open_drain: true
    name: "Licht Badezimmer"
    restore_mode: RESTORE_DEFAULT_OFF
  - platform: gpio
    pin:
      number: 33
      inverted: true
      mode:
        output: true
        open_drain: true
    name: "Licht Küche"
    restore_mode: RESTORE_DEFAULT_OFF
  - platform: gpio
    pin:
      number: 12
      inverted: true
      mode:
        output: true
        open_drain: true
    name: "Licht Büro"
    restore_mode: RESTORE_DEFAULT_OFF